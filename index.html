
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- facebook 分享 meta 内容 -->
    <!-- 分享测试工具 https://developers.facebook.com/tools/debug/ -->
    <!-- <meta content="标题" property="og:title">
    <meta content="描述" property="og:description">
    <meta content="站点名字" property="og:site_name">
    <meta content="article" property="og:type">
    <meta content="https://shenzhongchaoii.github.io/" property="og:url">
    <meta content="https://tailwindcss.com/_next/static/media/social-card-large.a6e71726.jpg" property="og:image">
    <meta content="500" property="og:image:height">
    <meta content="500" property="og:image:width">
    <meta content="ja_jp" property="og:locale"> -->
    
    <!-- twitter 分享 meta 内容 -->
    <!-- <meta content="标题" name="twitter:title">
    <meta content="描述" name="twitter:description">
    <meta content="站点名字" name="twitter:site">
    <meta content="https://shenzhongchaoii.github.io/" name="twitter:url">
    <meta content="summary" name="twitter:card">
    <meta content="https://tailwindcss.com/_next/static/media/social-card-large.a6e71726.jpg" name="twitter:image"> -->

    <title>测试分享</title>
</head>
<body>
    <p>
        <button id="zh_CN">简体中文</button>
        <button id="zh_TW">繁体中文</button>
    </p>
    <button id="fb">分享到 facebook</button>
    <button id="tw">分享到 twitter</button>
    <script>
        if (location.search) {
            if (location.search.includes('zh_TW')) {
                setPageConfig('zh_TW')
            } else {
                setPageConfig('zh_CN')
            }
        }
        const config = {
            zh_CN: {
                title: '测试分享',
                keywords: '关键词',
                description: '描述',

                // Twitter
                'twitter:card': 'summary',
                'twitter:title': '标题',
                'twitter:description': '描述',
                'twitter:image': 'https://tailwindcss.com/_next/static/media/social-card-large.a6e71726.jpg',

                // Facebook、Line
                'og:title': '标题',
                'og:description': '描述',
                'og:image': 'https://tailwindcss.com/_next/static/media/social-card-large.a6e71726.jpg',
                'og:site_name': '站点名',
                'og:type': 'article',
                'og:image:height': '500',
                'og:image:width': '500',
                'og:locale': 'zh_cn',
            },
            zh_TW: {
                title: '測試分享',
                keywords: '關鍵詞',
                description: '描述',

                // Twitter
                'twitter:card': 'summary',
                'twitter:title': '標題',
                'twitter:description': '描述',
                'twitter:image': 'https://tailwindcss.com/_next/static/media/social-card-large.a6e71726.jpg',

                // Facebook、Line
                'og:title': '標題',
                'og:description': '描述',
                'og:image': 'https://tailwindcss.com/_next/static/media/social-card-large.a6e71726.jpg',
                'og:site_name': '站點名',
                'og:type': 'article',
                'og:image:height': '500',
                'og:image:width': '500',
                'og:locale': 'zh_tw',
            },
        }

        const setPageMetas = (metaConfig) => {
            let meta = document.createElement('meta')
            ;[
                'keywords',
                'description',
                'twitter:card',
                'twitter:description',
                'twitter:image',
                'og:title',
                'og:description',
                'og:image',
                'og:site_name',
                'og:type',
                'og:image:height',
                'og:image:width',

                'og:locale'
            ].forEach(key => {
                const el = meta.cloneNode()
                el.setAttribute('name', key)
                el.setAttribute('property', key)
                el.setAttribute('content', metaConfig[key])
                document.head.appendChild(el)
            })
        }

        const setPageConfig = (lang) => {
            document.title = config[lang].title
            setPageMetas(config[lang])
        }

        const zhCNBtn = document.getElementById('zh_CN')
        zhCNBtn.addEventListener('click', () => {
            setPageConfig('zh_CN')
        })

        const zhTWBtn = document.getElementById('zh_TW')
        zhTWBtn.addEventListener('click', () => {
            setPageConfig('zh_TW')
        })

        const fbShareBtn = document.getElementById('fb')
        fbShareBtn.addEventListener('click', () => {
            const url = encodeURIComponent('https://shenzhongchaoii.github.io/')
            const facebook = `https://www.facebook.com/sharer/sharer.php?u=${url}`
            window.open(facebook, '_blank')
        })

        const twShareBtn = document.getElementById('tw')
        twShareBtn.addEventListener('click', () => {
            const content = '内容'
            const url = encodeURIComponent('https://shenzhongchaoii.github.io/')
            // 分享后会显示 “via @张三”
            const via = '张三'
            const text = `${content} ${url}&via=${via}`
            // 拼接链接
            const twitter = `https://twitter.com/intent/tweet?text=${text}`
            window.open(twitter, '_blank')
        })
    </script>
</body>
</html>
